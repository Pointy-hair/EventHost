@model EventHost.Web.Models.Registrations.EventUserRegistrationsViewModel
@{
    ViewData["Title"] = $"{Model.Event.Name} registrations";
    ViewData["Subtitle"] = $"{Model.User.FirstName} {Model.User.LastName}";
}

<div class="actions">
    <a asp-action="Details" asp-controller="Events" asp-route-id="@Model.Event.Id" class="btn btn-default">&laquo; Back to event</a>
</div>

<div class="sections">

    @foreach (var sec in Model.Sections)
    {
        <div class="section">
            <h3>
                @sec.Name
                <small>@($"{sec.StartOn:ddd, h:mm tt} - {sec.EndOn:ddd, h:mm tt}")</small>
            </h3>

            <div class="session-info">
                @{ 
                    var session = Model.RegisteredSessions.SingleOrDefault(x => x.SectionId == sec.Id);
                }
                @if (session == null)
                {
                    <h4><em>You are not registered for this section.</em></h4>
                }
                else
                {
                    <h4>@session.Name</h4>
                    
                    <address>
                        <strong>@session.HostName</strong><br />
                        @session.Address<br />
                        @($"{session.City}, {session.State} {session.PostalCode}")
                    </address>
                }
            </div>
        </div>
    }
</div>